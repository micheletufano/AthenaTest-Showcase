CharSequenceTranslator { public final String translate(CharSequence input) { if (input == null) { return null; } try { StringWriter writer = new StringWriter(input.length() * 2); translate(input, writer); return writer.toString(); } catch (IOException ioe) { throw new RuntimeException(ioe); } } abstract int translate(CharSequence input, int index, Writer out); final String translate(CharSequence input); final void translate(CharSequence input, Writer out); final CharSequenceTranslator with(CharSequenceTranslator... translators); static String hex(int codepoint); }
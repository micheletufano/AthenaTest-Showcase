StringEscapeUtils { public static void unescapeJava(Writer out, String str) throws IOException { if (out == null) { throw new IllegalArgumentException("The Writer must not be null"); } if (str == null) { return; } int sz = str.length(); StringBuffer unicode = new StringBuffer(4); boolean hadSlash = false; boolean inUnicode = false; for (int i = 0; i < sz; i++) { char ch = str.charAt(i); if (inUnicode) { unicode.append(ch); if (unicode.length() == 4) { try { int value = Integer.parseInt(unicode.toString(), 16); out.write((char) value); unicode.setLength(0); inUnicode = false; hadSlash = false; } catch (NumberFormatException nfe) { throw new NestableRuntimeException("Unable to parse unicode value: " + unicode, nfe); } } continue; } if (hadSlash) { hadSlash = false; switch (ch) { case '\\': out.write('\\'); break; case '\'': out.write('\''); break; case '\"': out.write('"'); break; case 'r': out.write('\r'); break; case 'f': out.write('\f'); break; case 't': out.write('\t'); break; case 'n': out.write('\n'); break; case 'b': out.write('\b'); break; case 'u': { inUnicode = true; break; } default : out.write(ch); break; } continue; } else if (ch == '\\') { hadSlash = true; continue; } out.write(ch); } if (hadSlash) { out.write('\\'); } } StringEscapeUtils(); static String escapeJava(String str); static void escapeJava(Writer out, String str); static String escapeJavaScript(String str); static void escapeJavaScript(Writer out, String str); static String unescapeJava(String str); static void unescapeJava(Writer out, String str); static String unescapeJavaScript(String str); static void unescapeJavaScript(Writer out, String str); static String escapeHtml(String str); static void escapeHtml(Writer writer, String string); static String unescapeHtml(String str); static void unescapeHtml(Writer writer, String string); static void escapeXml(Writer writer, String str); static String escapeXml(String str); static void unescapeXml(Writer writer, String str); static String unescapeXml(String str); static String escapeSql(String str); static String escapeCsv(String str); static void escapeCsv(Writer out, String str); static String unescapeCsv(String str); static void unescapeCsv(Writer out, String str); }